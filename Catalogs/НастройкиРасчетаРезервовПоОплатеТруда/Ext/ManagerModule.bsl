#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

////////////////////////////////////////////////////////////////////////////////
// ПРОГРАММНЫЙ ИНТЕРФЕЙС

#Область ДляВызоваИзДругихПодсистем

// СтандартныеПодсистемы.УправлениеДоступом

// См. УправлениеДоступомПереопределяемый.ПриЗаполненииСписковСОграничениемДоступа.
Процедура ПриЗаполненииОграниченияДоступа(Ограничение) Экспорт

КонецПроцедуры

// Конец СтандартныеПодсистемы.УправлениеДоступом

#КонецОбласти

////////////////////////////////////////////////////////////////////////////////
// СЛУЖЕБНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

Функция ФормируютсяРезервыВОрганизации(Организация, Период) Экспорт
	
	Запрос = Новый Запрос;
	Запрос.УстановитьПараметр("Организация", Организация);
	Запрос.УстановитьПараметр("Период",      Период);
	Запрос.Текст =
	"ВЫБРАТЬ
    |   НастройкиРасчетаРезервовПоОплатеТруда.Организация КАК Организация,
    |   НастройкиРасчетаРезервовПоОплатеТруда.Резерв КАК Резерв,
    |   НастройкиРасчетаРезервовПоОплатеТруда.ВидРезерва КАК ВидРезерва,
    |   НастройкиРасчетаРезервовПоОплатеТруда.НачалоПериода КАК НачалоПериода,
    |   НастройкиРасчетаРезервовПоОплатеТруда.КонецПериода КАК КонецПериода
    |ИЗ
    |   Справочник.НастройкиРасчетаРезервовПоОплатеТруда КАК НастройкиРасчетаРезервовПоОплатеТруда
    |ГДЕ
    |   НастройкиРасчетаРезервовПоОплатеТруда.Организация = &Организация
    |   И &Период МЕЖДУ НАЧАЛОПЕРИОДА(НастройкиРасчетаРезервовПоОплатеТруда.НачалоПериода, МЕСЯЦ) И КОНЕЦПЕРИОДА(НастройкиРасчетаРезервовПоОплатеТруда.КонецПериода, МЕСЯЦ)
    |   И НЕ НастройкиРасчетаРезервовПоОплатеТруда.ПометкаУдаления";
	
	Выборка = Запрос.Выполнить().Выбрать();
    
    РезервыИспользуются = Ложь;
    
    Если Выборка.Количество() > 0 Тогда
        
        РезервыИспользуются = Истина;	
        
    КонецЕсли;
    
	Возврат РезервыИспользуются;
	
КонецФункции

#КонецЕсли
