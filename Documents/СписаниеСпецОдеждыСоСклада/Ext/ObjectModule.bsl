
Процедура ОбработкаПроведения(Отказ, РежимПроведения)
	Для каждого текдвижение из Движения цикл
		текдвижение.очистить();	
	Конеццикла;
	Если не Отказ тогда
		Запрос = новый Запрос;
		Запрос.Текст="ВЫБРАТЬ
		             |	ВедомостьВыдачиСпецодежды.Ссылка
		             |ИЗ
		             |	Документ.ВедомостьВыдачиСпецодежды КАК ВедомостьВыдачиСпецодежды
		             |ГДЕ
		             |	ВедомостьВыдачиСпецодежды.Ссылка В(&Доки)";
		Запрос.УстановитьПараметр("Доки",Ведомости.ВыгрузитьКолонку("Документ"));
		выборка = Запрос.Выполнить().Выбрать();
		Пока выборка.Следующий() цикл
			Об = Выборка.ссылка.получитьОбъект();
			Об.СписаноСоСклада=истина;
			Об.Записать();
		Конеццикла;
	Конецесли;
КонецПроцедуры

Процедура ОбработкаУдаленияПроведения(Отказ)
	Если не Отказ тогда
		Запрос = новый Запрос;
		Запрос.Текст="ВЫБРАТЬ
		             |	ВедомостьВыдачиСпецодежды.Ссылка
		             |ИЗ
		             |	Документ.ВедомостьВыдачиСпецодежды КАК ВедомостьВыдачиСпецодежды
		             |ГДЕ
		             |	ВедомостьВыдачиСпецодежды.Ссылка В(&Доки)";
		Запрос.УстановитьПараметр("Доки",Ведомости.ВыгрузитьКолонку("Документ"));
		выборка = Запрос.Выполнить().Выбрать();
		Пока выборка.Следующий() цикл
			Об = Выборка.ссылка.получитьОбъект();
			Об.СписаноСоСклада=ложь;
			Об.Записать();
		Конеццикла;
	Конецесли;
КонецПроцедуры
