#Область ПрограммныйИнтерфейс

Процедура ЗаполнитьПараметрыДоступностиСервиса(ПараметрыДоступности) Экспорт 
	 РаботаСНоменклатуройБК.ЗаполнитьПараметрыДоступностиСервиса(ПараметрыДоступности);
 КонецПроцедуры  
 
Функция СервисУспешноАктивирован() Экспорт 
	Возврат РаботаСНоменклатуройБК.СервисУспешноАктивирован()
КонецФункции

// Выполняет поиск номенклатуры по штрихкоду
//
// Параметры:
//  Штрихкод - Строка - штрихкод;
//           или
//           - Структура - с обязательным свойством "Штрихкод".
//
// Возвращаемое значение:
//  СправочникСсылка.Номенклатура
//
Функция НоменклатураПоШтрихкоду(Знач Штрихкод) Экспорт
	
	Если ТипЗнч(Штрихкод) = Тип("Структура") И Штрихкод.Свойство("Штрихкод") Тогда
		ФорматBase64 = Неопределено;
		Штрихкод.Свойство("ФорматBase64", ФорматBase64);
		Если ФорматBase64 = Истина Тогда
			РазборИОбработкаКодовМаркировкиИСМПТКСлужебныйКлиентСервер.ДекодироватьШтрихкодДанныхBase64(Штрихкод);
		КонецЕсли;
		ШтрихкодДляПоиска = Штрихкод.Штрихкод;
	Иначе
		ШтрихкодДляПоиска = Штрихкод;
	КонецЕсли;
	
	РезультатПоиска = РегистрыСведений.ШтрихкодыНоменклатуры.НоменклатураПоШтрихкоду(ШтрихкодДляПоиска);
	Если РезультатПоиска.Количество() > 0 Тогда
		Результат = РезультатПоиска[0].Номенклатура;
	Иначе
		Результат = Справочники.Номенклатура.ПустаяСсылка();
	КонецЕсли;
	
	Возврат Результат;
	
КонецФункции

#КонецОбласти